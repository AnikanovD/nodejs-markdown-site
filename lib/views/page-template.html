<!DOCTYPE html>
<html lang="en">
<head>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'/>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="{path_prefix}/markdown/css/markdown.css">
    <link rel="stylesheet" href="{path_prefix}/markdown/css/kotlin-site-default.css">
    <link rel="stylesheet" href="{path_prefix}/markdown/css/kotlin-site-common.css">
    <link rel="stylesheet" href="{path_prefix}/materialize/css/materialize.css">
    <link rel="stylesheet" href="{path_prefix}/site/css/styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <title>{title}</title>
</head>
<body>
<nav>
    <div class="nav-wrapper hide-on-med-and-up" id="mobile-nav-wrapper">
        <a href="#" data-target="nav-mobile" class="sidenav-trigger left"><i class="material-icons">menu</i></a>
        <a class="right brand-logo" id="logo-mobile">Markdown Site</a>
        <ul id="nav-mobile" class="sidenav left">
            <li><a href="{path_prefix}">Home</a></li>
            <li><a href="{path_prefix}/create">Add new article</a></li>
            <li><a href="{path_prefix}/manage-access">Management</a></li>
            <li><a href="{path_prefix}/logout">Log out</a></li>
        </ul>
        <form autocomplete="off">
            <div class="input-field autocomplete" id="search-form-mobile">
                <input id="search-text-mobile" type="search" required>
                <label class="label-icon" for="search-text-mobile"><i class="material-icons">search</i></label>
                <i class="material-icons">close</i>
            </div>
        </form>
    </div>
    <div class="nav-wrapper hide-on-small-only">
        <a class="right brand-logo" id="logo-a">Markdown Site</a>
        <ul id="nav-pc" class="left">
            <li><a href="{path_prefix}">Home</a></li>
            <li><a href="{path_prefix}/create">Add new article</a></li>
            <li><a href="{path_prefix}/manage-access">Management</a></li>
            <li><a href="{path_prefix}/logout">Log out</a></li>
        </ul>
        <form autocomplete="off">
            <div class="input-field autocomplete" id="search-form-pc">
                <input id="search-text-pc" type="search" required>
                <label class="label-icon" for="search-text-pc"><i class="material-icons">search</i></label>
                <i class="material-icons">close</i>
            </div>
        </form>
    </div>
</nav>

<div id="content" class="center">
    <!-- Navigation -->
    {navigation}

    <!-- Markdown content -->
    <article class="page-content g-6 page-article left-align">
        {markdown}
    </article>
</div>

<button type="button"
        class="btn-floating btn-large waves-effect waves-light indigo right col modal-trigger"
        id="btn-edit-page" onclick="editPage()">
    <i class="material-icons">edit</i>
</button>

<!-- Scripts -->
<script type="application/javascript" src="{path_prefix}/site/js/jquery-3.3.1.min.js"></script>
<script type="application/javascript" src="{path_prefix}/materialize/js/materialize.min.js"></script>
<script type="application/javascript" src="{path_prefix}/markdown/js/nav.js"></script>
<script type="application/javascript" src="{path_prefix}/codemirror/js/codemirror.min.js"></script>
<script type="application/javascript" src="{path_prefix}/codemirror/js/runmode.min.js"></script>
<script type="application/javascript" src="{path_prefix}/codemirror/js/colorize.min.js"></script>
<script type="application/javascript" src="{path_prefix}/codemirror/js/mode/clike.min.js"></script>
<script type="application/javascript" src="{path_prefix}/codemirror/js/mode/shell.min.js"></script>
<script type="application/javascript" src="{path_prefix}/codemirror/js/init_code_highlight.js"></script>
<script type="application/javascript" src="{path_prefix}/site/js/clipboard.min.js"></script>
<script>new ClipboardJS('a.ctrlc')</script>
<script>$('.sidenav').sidenav()</script>
<script>
    function editPage () {
      let path = '{path_prefix}/edit?path=' + window.location.pathname.substring(window.location.pathname.indexOf('/pages'))
      if (path.indexOf('/pages') === -1) path = '{path_prefix}/edit?path=/'
      window.location.href = path
    }

    $(document).ready(() => {
      autocomplete(document.getElementById('search-text-mobile'), '{path_prefix}/search')
      autocomplete(document.getElementById('search-text-pc'), '{path_prefix}/search')
    })
</script>
<script type="application/javascript" src="{path_prefix}/site/js/init-ac.js"></script>
</body>
</html>